# This model establishes the relationships between a 'connection' asset and
# the source and destination 'application' assets it refers to. Since a connection
# has two distinct links to the 'applications' resource type, we use `link_resources`
# to create explicit, named relationships ('source_app' and 'dest_app') that
# can be traversed by output templates.
origin_resource = "connections"

# Create a 'source_app' relation from a connection to its source application.
[[link_resources]]
with = "applications"
on = { local = "source_app", remote = "name" }
create_relation = { type = "source_app" }

# Create a 'dest_app' relation from a connection to its destination application.
[[link_resources]]
with = "applications"
on = { local = "dest_app", remote = "name" }
create_relation = { type = "dest_app" }
